(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cuenta"],{"0c18":function(e,t,r){},"4bd4":function(e,t,r){"use strict";r("4de4"),r("7db0"),r("4160"),r("caad"),r("07ac"),r("2532"),r("159b");var a=r("5530"),o=r("58df"),s=r("7e2b"),n=r("3206");t["a"]=Object(o["a"])(s["a"],Object(n["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},a={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=e.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(e._uid)||(a.valid=r(e)))})):a.valid=r(e),a},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},afdd:function(e,t,r){"use strict";var a=r("8336");t["a"]=a["a"]},d259:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",width:"100%"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.changePassword(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-list-item",[r("v-list-item-avatar",{attrs:{color:"transparent"}},[r("v-icon",{attrs:{size:"50",color:"black"}},[e._v("account_circle")])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"headline"},[e._v(" "+e._s(e.user?e.user.nombre:"")+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s(e.user?e.user.nombre:"")+" "+e._s(e.user?e.user.paterno:"")+" ")])],1)],1),r("v-card-text",[r("v-alert",{staticClass:"fs9",attrs:{type:"warning",color:"error",text:""}},[e._v(" Para cambiar la contraseña actual debe de llenar estos 2 campos de texto, una vez realizado el cambio usted tendrá que volver a autenticarse para ingresar al sistema. ")]),r("v-card",{attrs:{elevation:"0"}},[r("v-text-field",{staticClass:"mt-4",attrs:{outlined:"",dense:"",color:"primary",label:"Contraseña actual","append-icon":e.oldPasswordShow?"remove_red_eye":"visibility_off",type:e.oldPasswordShow?"text":"password",counter:"","aria-required":"",rules:[function(e){return!!e||"El campo de la contraseña actual no puede estar vacío"}]},on:{"click:append":function(t){e.oldPasswordShow=!e.oldPasswordShow}},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-tooltip",{attrs:{bottom:"",color:"primary","max-width":"200"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-icon",e._g({attrs:{color:"primary"}},a),[e._v("info")])]}}])},[e._v(" En este campo usted tiene que colocar la contraseña actual. ")])]},proxy:!0}]),model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),r("v-alert",{staticClass:"fs9",attrs:{type:"info",color:"info",text:""}},[e._v(" La nueva contraseña debe tener como mínimo 8 caracteres y como máximo 15 caracteres."),r("br"),e._v(" Debe de tener al menos una letra mayúscula"),r("br"),e._v(" Debe de tener al menos una letra minúscula"),r("br"),e._v(" Debe de tener al menos un número"),r("br"),e._v(" Debe de tener al menos un caracter especial como ser $ @ $ ! % * ? & . -"),r("br")]),r("v-text-field",{attrs:{outlined:"",dense:"","aria-required":"","append-icon":e.newPasswordShow?"remove_red_eye":"visibility_off",type:e.newPasswordShow?"text":"password",counter:"",color:"primary",label:"Nueva contraseña",rules:[function(e){return!!e||"El campo de la nueva contraseña no puede estar vacío"}]},on:{"click:append":function(t){e.newPasswordShow=!e.newPasswordShow}},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-tooltip",{attrs:{bottom:"",color:"primary","max-width":"200"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-icon",e._g({attrs:{color:"primary"}},a),[e._v("info")])]}}])},[e._v(" En este campo tiene que colocar la nueva contraseña, se recomienda que tenga caracteres especiales y que sea alfanumérico. ")])]},proxy:!0}]),model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),r("v-text-field",{attrs:{outlined:"",dense:"","aria-required":"","append-icon":e.newPasswordRepeatShow?"remove_red_eye":"visibility_off",type:e.newPasswordRepeatShow?"text":"password",counter:"",color:"primary",label:"Vuelva a escribir la nueva contraseña",rules:[function(e){return!!e||"El campo de la nueva contraseña no puede estar vacío"}]},on:{"click:append":function(t){e.newPasswordRepeatShow=!e.newPasswordRepeatShow}},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("v-tooltip",{attrs:{bottom:"",color:"primary","max-width":"200"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-icon",e._g({attrs:{color:"primary"}},a),[e._v("info")])]}}])},[e._v(" En este campo tiene que repetir la nueva contraseña. ")])]},proxy:!0}]),model:{value:e.newPasswordRepeat,callback:function(t){e.newPasswordRepeat=t},expression:"newPasswordRepeat"}})],1)],1),r("v-card-actions",{class:["text-center mt-0 pt-0",e.breakpoints.includes(e.$vuetify.breakpoint.name)?"d-flex flex-column align-center justify-center":""]},[r("v-btn",{attrs:{type:"submit",color:"primary",block:e.breakpoints.includes(e.$vuetify.breakpoint.name)}},[e._v(" cambiar contraseña ")])],1)],1)],1)},o=[],s=(r("96cf"),r("1da1")),n=r("0804"),i={mixins:[n["a"]],data:function(){return{user:{},valid:null,oldPassword:null,oldPasswordShow:null,newPassword:null,newPasswordShow:null,newPasswordRepeat:null,newPasswordRepeatShow:null,breakpoints:["xs","sm"]}},methods:{changePassword:function(){var e=this;if(this.$refs.form.validate()){if(this.newPassword!==this.newPasswordRepeat)return void this.$message.error("La contraseña nueva y el campo de repetir la contraseña no coinciden");var t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&.-])([A-Za-z\d$@$!%*?&.-]|[^ ]){8,15}$/;if(!t.test(this.newPassword))return void this.$message.error("La nueva contraseña no cumple con las reglas establecidas.");this.$confirm("¿Está seguro de cambiar la contraseña?",Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$service.put("usuario/contrasena",{nuevaContrasena:e.newPassword,idUsuario:e.$storage.getUser().id});case 2:r=t.sent,r&&r.finalizado?(e.$message.success("Se cambió la contraseña exitosamente"),e.logout()):e.$message.error(r&&r.mensaje||"Ocurrió un error al tratar de cambiar la contraseña");case 4:case"end":return t.stop()}}),t)}))),null)}else this.$message.error("Error los campos no pueden estar vacíos")}},mounted:function(){this.user=this.$storage.getUser()}},c=i,l=r("2877"),u=r("6544"),d=r.n(u),h=(r("caad"),r("5530")),p=r("ade3"),v=(r("0c18"),r("10d2")),f=r("afdd"),m=r("9d26"),w=r("f2e7"),b=r("7560"),_=r("2b0e"),g=_["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),y=r("58df"),$=r("d9bd"),x=Object(y["a"])(v["a"],w["a"],g).extend({name:"v-alert",props:{border:{type:String,validator:function(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var e={staticClass:"v-alert__border",class:Object(p["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible:function(){var e=this;if(!this.dismissible)return null;var t=this.iconColor;return this.$createElement(f["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return e.isActive=!1}}},[this.$createElement(m["a"],{props:{color:t}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(m["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var e=Object(h["a"])(Object(h["a"])({},v["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(e["v-alert--border-".concat(this.border)]=!0),e},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||b["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object($["a"])("outline","outlined",this)},methods:{genWrapper:function(){var e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var e={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(e){var t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}}),P=r("8336"),C=r("b0af"),S=r("99d9"),B=r("4bd4"),k=r("132d"),V=r("da13"),E=r("8270"),I=r("5d23"),O=r("8654"),j=r("3a2f"),A=Object(l["a"])(c,a,o,!1,null,"bab827e6",null);t["default"]=A.exports;d()(A,{VAlert:x,VBtn:P["a"],VCard:C["a"],VCardActions:S["a"],VCardText:S["c"],VForm:B["a"],VIcon:k["a"],VListItem:V["a"],VListItemAvatar:E["a"],VListItemContent:I["a"],VListItemSubtitle:I["b"],VListItemTitle:I["c"],VTextField:O["a"],VTooltip:j["a"]})}}]);